{
  "name": "Token Escrow",
  "description": "Simple escrow with deposit, release, and refund flows",
  "type": "state-machine",
  "definition": "definition.json",
  "initialData": "initial-data.json",
  "events": [
    { "name": "fund", "file": "event-fund.ts", "from": "pending", "to": "funded" },
    { "name": "release", "file": "event-release.ts", "from": "funded", "to": "released" },
    { "name": "refund", "file": "event-refund.ts", "from": "funded", "to": "refunded" }
  ],
  "testFlows": [
    {
      "name": "Happy path - release",
      "steps": [
        { "action": "create", "definition": "definition.json", "initialData": "initial-data.json" },
        { "action": "processEvent", "event": "event-fund.ts", "expectedState": "funded" },
        { "action": "processEvent", "event": "event-release.ts", "expectedState": "released" }
      ]
    },
    {
      "name": "Refund path",
      "steps": [
        { "action": "create", "definition": "definition.json", "initialData": "initial-data.json" },
        { "action": "processEvent", "event": "event-fund.ts", "expectedState": "funded" },
        { "action": "processEvent", "event": "event-refund.ts", "expectedState": "refunded" }
      ]
    }
  ]
}
